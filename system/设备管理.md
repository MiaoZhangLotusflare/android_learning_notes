#  设备管理

## 磁盘结构

1. 盘面（Platter）：一个磁盘有多个盘面；
2. 磁道（Track）：盘面上的圆形带状区域，一个盘面可以有多个磁道；
3. 扇面（Track Sector）：磁道上的一个弧段，一个磁盘可以有多个扇区，它使最小的物理储存单位，目前主要有 512 bytes 与 4 K 两种大小；
4. 磁头（Head）：与盘面非常接近，能够将盘面上的磁场转换为电信号（读），或者将电信号转换为盘面的磁场（写）；
5. 制动手臂（Actuator arm）：用于在磁道之间移动磁头；
6. 主轴（Spindle）：使整个盘面转动。

![](image/磁盘结构.jpg)

## 磁盘调度算法

　　读写一个磁盘的时间的影响因素有：

* 旋转时间（主轴转动盘面，使得磁头移动到合适的扇区上）
* 寻道时间（制动手臂移动，使得磁头移动到适当的磁道上）
* 实际的数据传输时间

　　其中，寻道时间最长，因此磁盘调度的主要目标是使磁盘的平均寻道时间最短。

### 1. 先来先服务-FCFS，First Come First Served

　　按照磁盘请求的顺序进行调度。

　　优点是公平和简单。缺点也很明显，因为未对寻道做任何优化，使平均寻道时间可能较长。

### 2. 最短寻道时间优先 - SSTF，Shortest Seek Time First

　　优先调度与当前磁头所在磁道举例最近的磁道。

　　虽然平均寻道时间比较低，但是不够公平。如果新到达的磁道请求总是比一个在等待的磁道请求近，那么在等待的磁道请求会一直等待下去，也就是出现饥饿现象。具体来说，两端的磁盘请求更容易出现饥饿现象。

![](image/最短寻道时间优先.png)

### 3. 电梯算法-SCAN

　　电梯总是保持一个方向运行，直到该方向没有请求为止，然后改变运行方向。

　　电梯算法（扫描算法）和电梯的运行过程类似，总是按一个方向来进行磁盘调度，直到该方向上没有未完成的磁盘请求，然后改变方向。

　　因为考虑了移动方向，因此所有的次哦按请求都会被满足，解决了 SSTF 的饥饿问题。

![](image/电梯算法.png)

## 6. 设备管理

　　设备管理的目标是如何提高设备的利用率，位用户提供方便统一的界面。

　　设别管理采用的缓冲技术：通道技术、DMS 技术、缓冲技术、Spooling 技术。

　　磁盘调度算法：先来先服务（FCFS）、最短寻道时间（SSTF）、扫描算法（SCAN）（先由里往外到达最外后由外向里）、单向扫描调度算法（CSCAN）（无法换向，只能由里向外）。

## 参考文章

1. [操作系统基础知识总结整理](https://blog.csdn.net/Song_JiangTao/article/details/79670805)
2. [操作系统基础知识总结（重要）](https://www.cnblogs.com/xdyixia/p/9274909.html)
3. [计算机操作系统](https://github.com/CyC2018/CS-Notes/blob/master/notes/计算机操作系统 - 目录.md)
